{"version":3,"sources":["components/Filter.js","components/NewEntryForm .js","components/Entry.js","components/Entries.js","components/Header.js","services/entries.js","App.js","index.js"],"names":["Filter","filter","onChange","value","NewEntryForm","props","onSubmit","addPerson","newName","nameChange","newNumber","numberChange","type","Entry","entry","deleteButton","name","number","onClick","Entries","entries","map","key","id","Header","text","baseURL","axios","get","then","response","data","newObject","post","url","delete","put","Notification","notification","className","color","message","App","useState","setEntries","setNewName","setNewNumber","setFilter","notificationMessage","setNotificationMessage","useEffect","entryServices","initialEntries","displayMessage","setTimeout","entriesToShow","length","toLowerCase","includes","event","target","preventDefault","filteredEntries","confirmMessage","window","confirm","changedEntry","returnedEntry","catch","error","e","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.95acb635.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filter, onChange }) => {\n  return (\n    <div>\n      filter shown with <input value = {filter} onChange = { onChange } />\n    </div>    \n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst NewEntryForm = (props) => {\n  return (\n    <form onSubmit = { props.addPerson }>\n      <div>\n        name: <input value = { props.newName } onChange = { props.nameChange } />\n        <br/>\n        number: <input value = { props.newNumber } onChange = { props.numberChange }/>\n      </div>\n      <div>\n        <button type = \"submit\">\n          add \n        </button>\n      </div>\n    </form>\n  )\n}\n\nexport default NewEntryForm","import React from 'react'\n\nconst Entry = ({ entry, deleteButton }) => {\n  return (\n    <li>\n      {entry.name} {entry.number}\n      <button onClick = {() => deleteButton(entry)}>delete</button>\n    </li>\n  )\n}\n\nexport default Entry","import React from 'react'\nimport Entry from './Entry'\n\nconst Entries = ({ entries, deleteButton }) => {\n  return (\n    <ul>\n      {entries.map((entry) => \n        <Entry \n          key = {entry.id} \n          entry = {entry} \n          deleteButton = {deleteButton}\n        />\n      )}\n    </ul>\n  )\n}\n\nexport default Entries","import React from 'react';\n\nconst Header = ({ text }) => <h2>{text}</h2>;\n\nexport default Header","import axios from 'axios'\n\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseURL)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseURL, newObject)\n  return request.then(response => response.data)\n}\n\nconst deleteEntry = id => {\n  const url = `${baseURL}/${id}`\n  return axios.delete(url)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseURL}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, deleteEntry, update }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport NewEntryForm from './components/NewEntryForm '\nimport Entries from './components/Entries'\nimport Header from './components/Header'\nimport entryServices from './services/entries'\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null\n  }\n  const className = `message ${notification.color}`\n  return (\n    <div className={className} >\n      {notification.message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [entries, setEntries] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    entryServices\n      .getAll()\n      .then(initialEntries => {\n        setEntries(initialEntries)\n      })\n  }, [])\n\n  const displayMessage = (message, color = \"notification\") => {\n    setNotificationMessage({ message, color })\n    setTimeout(() => setNotificationMessage(null), 5000)\n  }\n\n  const addEntry = (event) => {\n    event.preventDefault()\n    const filteredEntries = entries.filter(entry => entry.name === newName)\n    if (filteredEntries.length !== 0) {\n\n      const entry = filteredEntries[0]\n      const id = entry.id\n      const confirmMessage = `${entry.name} is already added to the phonebook, replace the old number with a new one?`\n\n      if (window.confirm(confirmMessage)) {\n        const changedEntry = { ...entry, number: newNumber }\n\n        entryServices\n          .update(id, changedEntry)\n          .then(returnedEntry => {\n            setEntries(entries.map(entry => entry.id !== id ? entry : returnedEntry))\n            displayMessage(`Updated number for ${returnedEntry.name} sucessfully.`)\n            setNewNumber('')\n            setNewName('')\n          })\n          .catch(error => {\n            if (error.response.data.error === \"number not valid\") {\n              displayMessage(error.response.data.error, \"error\")\n            }\n            else {\n              displayMessage(`Information of ${entry.name} has already been removed from server`, \"error\")\n              setEntries(entries.filter(e => e.id !== entry.id))\n            }\n          })\n      }\n    }\n    else {\n      const newEntryObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      entryServices\n        .create(newEntryObject)\n        .then(returnedEntry => {\n          setEntries(entries.concat(returnedEntry))\n          displayMessage(`Added ${returnedEntry.name} sucessfully.`)\n          setNewNumber('')\n          setNewName('')\n        })\n        .catch(error => {\n          displayMessage(error.response.data.error, \"error\")\n        })\n    }\n\n  }\n\n  const deleteEntry = entry => {\n    if (window.confirm(`Delete ${entry.name}?`)) {\n      const id = entry.id\n      entryServices\n        .deleteEntry(entry.id)\n        .then(() => {\n          setEntries(entries.filter(entry => entry.id !== id))\n          displayMessage(`Deleted number for ${entry.name} sucessfully.`)\n        })\n        .catch(() => {\n          displayMessage(`Information of ${entry.name} has already been removed from server`, \"error\")\n          setEntries(entries.filter(e => e.id !== entry.id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleFilterChange = (event) => setFilter(event.target.value.toLowerCase())\n\n  const entriesToShow = filter.length === 0\n    ? entries\n    : entries.filter(entry => entry.name.toLowerCase().includes(filter))\n\n  return (\n    <div>\n      <Header text=\"Phonebook\" />\n      <Notification notification={notificationMessage} />\n\n      <Filter filter={filter} onChange={handleFilterChange} />\n      <Header text=\"add a new\" />\n      <NewEntryForm\n        addPerson={addEntry}\n        nameChange={handleNameChange}\n        numberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <Header text=\"Numbers\" />\n      <Entries\n        entries={entriesToShow}\n        deleteButton={deleteEntry}\n      />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}